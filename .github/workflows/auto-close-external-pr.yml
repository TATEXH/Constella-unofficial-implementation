name: Auto Close External Pull Requests

on:
  pull_request:
    types: [opened]

jobs:
  auto_close_external_pr:
    # ä½œæˆè€…ãŒTATEXHä»¥å¤–ã®å ´åˆã®ã¿å®Ÿè¡Œ
    if: github.actor != 'TATEXH'
    runs-on: ubuntu-latest

    steps:
      - name: Close External PR with Message
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            // PRã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 
            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: `## ğŸ™ ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™

ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ãŒã€æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ **ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã¦ãŠã‚Šã¾ã›ã‚“**ã€‚

### ğŸ“‹ ç†ç”±
- æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯å­¦è¡“ç ”ç©¶è«–æ–‡ã®æ¦‚å¿µå®Ÿè¨¼ã¨ã—ã¦é–‹ç™ºã•ã‚Œã¦ã„ã¾ã™
- ç¶™ç¶šçš„ãªé–‹ç™ºãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã¯äºˆå®šã•ã‚Œã¦ã„ã¾ã›ã‚“
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„Issuesã¸ã®å¯¾å¿œãƒªã‚½ãƒ¼ã‚¹ãŒã”ã–ã„ã¾ã›ã‚“

### ğŸš€ ä»£æ›¿æ¡ˆ
1. **ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ç‹¬è‡ªé–‹ç™º**: MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã€è‡ªç”±ã«ãƒ•ã‚©ãƒ¼ã‚¯ãƒ»æ”¹å¤‰ã—ã¦ãã ã•ã„
2. **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ•ã‚©ãƒ¼ã‚¯**: ç‹¬è‡ªã®ãƒ•ã‚©ãƒ¼ã‚¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ã‚’æ­“è¿ã—ã¾ã™
3. **å­¦ç¿’ãƒ»ç ”ç©¶åˆ©ç”¨**: ã‚³ãƒ¼ãƒ‰ã‚’å‚è€ƒã«ã—ãŸç‹¬è‡ªå®Ÿè£…ã‚’ãŠè©¦ã—ãã ã•ã„

### ğŸ“– è©³ç´°æƒ…å ±
- [README.md](https://github.com/${context.repo.owner}/${context.repo.repo}#è²¢çŒ®ã‚µãƒãƒ¼ãƒˆã«ã¤ã„ã¦) ã®ã€Œè²¢çŒ®ãƒ»ã‚µãƒãƒ¼ãƒˆã«ã¤ã„ã¦ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã”ç¢ºèªãã ã•ã„
- [å­¦è¡“è«–æ–‡](https://www.arxiv.org/abs/2507.05820): æœ¬å®Ÿè£…ã®åŸºã¨ãªã£ãŸç ”ç©¶è«–æ–‡

ã”ç†è§£ã¨ã”å”åŠ›ã‚’ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚`
            });

            // PRã‚’ã‚¯ãƒ­ãƒ¼ã‚º
            await github.rest.pulls.update({
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: context.issue.number,
              state: 'closed'
            });

            console.log(`PR #${context.issue.number} from ${github.actor} has been automatically closed.`);